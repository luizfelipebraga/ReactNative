{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Felipe\\\\Desktop\\\\Senai\\\\ReactNative\\\\Senai.Vagas.Mobile\\\\Senai-Vagas-Mobile\\\\src\\\\components\\\\cardCandidato.tsx\";\n\nimport React, { useContext, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AuthContext from \"../context/auth\";\nimport api from \"../services/api\";\nimport jwt from \"../services/tokenDecoder\";\n\nvar cardCandidato = function cardCandidato(_ref) {\n  var nomeVaga = _ref.nomeVaga,\n      descricao = _ref.descricao,\n      recebeuConvite = _ref.recebeuConvite,\n      vagaId = _ref.vagaId,\n      vagaAtiva = _ref.vagaAtiva;\n\n  var _useContext = useContext(AuthContext),\n      GetTokenUser = _useContext.GetTokenUser;\n\n  var tokenDecoded;\n  GetTokenUser().then(function (token) {\n    tokenDecoded = token !== null ? jwt(token) : null;\n  });\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      dataHoraEntrevista = _useState2[0],\n      setDataHoraEntrevista = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      nomeRua = _useState4[0],\n      setNomeRua = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      infosComplementares = _useState6[0],\n      setInfosComplementares = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      nomeBairro = _useState8[0],\n      setNomeBairro = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      numero = _useState10[0],\n      setNumero = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      nomeEmpresa = _useState12[0],\n      setNomeEmpresa = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      experiencia = _useState14[0],\n      setExperiencia = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      cargo = _useState16[0],\n      setCargo = _useState16[1];\n\n  var _useState17 = useState(''),\n      _useState18 = _slicedToArray(_useState17, 2),\n      faixaSalarial = _useState18[0],\n      setFaixaSalarial = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      nomeMunicipio = _useState20[0],\n      setNomeMunicipio = _useState20[1];\n\n  var _useState21 = useState({}),\n      _useState22 = _slicedToArray(_useState21, 2),\n      ufSigla = _useState22[0],\n      setUfSigla = _useState22[1];\n\n  var _useState23 = useState(''),\n      _useState24 = _slicedToArray(_useState23, 2),\n      nomeUfSigla = _useState24[0],\n      setNomeUfSigla = _useState24[1];\n\n  var _useState25 = useState(''),\n      _useState26 = _slicedToArray(_useState25, 2),\n      dataEncerramento = _useState26[0],\n      setDataEncerramento = _useState26[1];\n\n  var _useState27 = useState([]),\n      _useState28 = _slicedToArray(_useState27, 2),\n      areaVagaRecomendadas = _useState28[0],\n      setAreaVagaRecomendadas = _useState28[1];\n\n  var VerMais = function VerMais(vagaId) {\n    var initListar;\n    return _regeneratorRuntime.async(function VerMais$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(tokenDecoded == null)) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Alert.alert('Não foi possível carregar as informações do candidato'));\n\n          case 2:\n            initListar = {\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            };\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(api.get(\"Vagas/buscar/vaga/\" + vagaId, initListar).then(function (resp) {\n              setNomeEmpresa(resp.data.nomeEmpresa);\n              setExperiencia(resp.data.tipoExperiencia.descricao);\n              setCargo(resp.data.cargo);\n              setFaixaSalarial(resp.data.faixaSalarial.descricao);\n              setNomeMunicipio(resp.data.municipio.descricao);\n              setUfSigla(resp.data.municipio.ufSigla);\n              setDataEncerramento(new Date(resp.data.dataEncerramento).toLocaleDateString('pt-BR', {\n                timeZone: 'UTC'\n              }));\n              setAreaVagaRecomendadas(resp.data.areaVagaRecomendadas);\n            }).catch(function (error) {\n              if (error.response) {\n                return alert(error.response.data);\n              }\n            }));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var VerConvite = function VerConvite(vagaId) {\n    var initListar;\n    return _regeneratorRuntime.async(function VerConvite$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            initListar = {\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            };\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(api.get(\"ConvitesEntrevistas/convites/vaga/\" + vagaId + \"/usuario/\" + tokenDecoded.jti, initListar).then(function (resp) {\n              setNomeEmpresa(resp.data.nomeEmpresa);\n              setDataHoraEntrevista(new Date(resp.data.dataHoraEntrevista).toLocaleDateString('pt-BR', {\n                timeZone: 'UTC'\n              }));\n              setNomeRua(resp.data.rua);\n              setNomeBairro(resp.data.bairro);\n              setNumero(resp.data.numero);\n              setNomeMunicipio(resp.data.municipio);\n              setNomeUfSigla(resp.data.ufSigla);\n              setInfosComplementares(resp.data.infosComplementares);\n            }).catch(function (error) {\n              if (error.response) {\n                return alert(error.response.data);\n              }\n            }));\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var CancelarInscricao = function CancelarInscricao(vagaId) {\n    var initListar;\n    return _regeneratorRuntime.async(function CancelarInscricao$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!(tokenDecoded == null)) {\n              _context3.next = 2;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", Alert.alert('Não foi possível carregar as informações do candidato'));\n\n          case 2:\n            initListar = {\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            };\n            _context3.next = 5;\n            return _regeneratorRuntime.awrap(api.post(\"Inscricoes/vaga/\" + vagaId + \"/usuario/\" + tokenDecoded.jti, initListar).then(function (resp) {\n              if (resp.status === 200) {\n                window.location.reload();\n              }\n            }).catch(function (error) {\n              if (error.response) {\n                return alert(error.response.data);\n              }\n            }));\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var Botoes = function Botoes(vagaId) {\n    if (recebeuConvite) {\n      return React.createElement(View, {\n        style: styles.botoes,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.btnAzul,\n        onPress: function onPress(event) {\n          event.preventDefault();\n          VerMais(vagaId);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }\n      }, \" \", React.createElement(Text, {\n        style: styles.textVermais,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }\n      }, \"Ver Mais\")), React.createElement(TouchableOpacity, {\n        style: styles.btnVermelho,\n        onPress: function onPress(event) {\n          event.preventDefault();\n          VerConvite(vagaId);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.textVermais,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 24\n        }\n      }, \"Ver Convite\")));\n    } else {\n      return React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.botoes,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.btnAzul,\n        onPress: function onPress(event) {\n          event.preventDefault();\n          VerMais(vagaId);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.textVermais,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 28\n        }\n      }, \"Ver Mais\"))));\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.card,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.titulo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.nomeVaga,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  }, nomeVaga), React.createElement(View, {\n    style: styles.sectionVaga,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, vagaAtiva ? React.createElement(Text, {\n    style: styles.vagaAtiva,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 41\n    }\n  }, \"Vaga Ativa\") : React.createElement(Text, {\n    style: styles.vagaEncerrada,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 92\n    }\n  }, \"Vaga Encerrada\"))), React.createElement(View, {\n    style: styles.textos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.descricao,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 17\n    }\n  }, descricao.length > 300 ? descricao.substring(0, 300) + \" [...]\" : descricao)), Botoes(vagaId));\n};\n\nvar styles = StyleSheet.create({\n  botoes: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'space-between',\n    marginHorizontal: 3,\n    marginBottom: 2\n  },\n  btnAzul: {\n    backgroundColor: '#ffffff',\n    color: '#016799',\n    borderColor: '#016799'\n  },\n  btnVermelho: {},\n  textVermais: {},\n  card: {\n    display: 'flex',\n    justifyContent: 'center',\n    borderColor: 'blue',\n    marginTop: 3,\n    width: 100,\n    minHeight: 100,\n    minWidth: 50,\n    borderRadius: 10,\n    marginHorizontal: 5\n  },\n  titulo: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginHorizontal: 3,\n    marginTop: 10\n  },\n  nomeVaga: {\n    color: '#303030',\n    marginRight: 10,\n    fontFamily: 'sansation-regular',\n    fontSize: 25\n  },\n  sectionVaga: {},\n  vagaAtiva: {\n    color: '#016799',\n    marginLeft: 0\n  },\n  vagaEncerrada: {\n    color: '#df0003',\n    marginLeft: 0\n  },\n  textos: {\n    display: 'flex',\n    width: 100,\n    textAlign: 'justify',\n    marginHorizontal: 3,\n    color: '#606060'\n  },\n  descricao: {\n    fontSize: 12\n  }\n});\nexport default cardCandidato;","map":{"version":3,"sources":["C:/Users/Felipe/Desktop/Senai/ReactNative/Senai.Vagas.Mobile/Senai-Vagas-Mobile/src/components/cardCandidato.tsx"],"names":["React","useContext","useState","AuthContext","api","jwt","cardCandidato","nomeVaga","descricao","recebeuConvite","vagaId","vagaAtiva","GetTokenUser","tokenDecoded","then","token","dataHoraEntrevista","setDataHoraEntrevista","nomeRua","setNomeRua","infosComplementares","setInfosComplementares","nomeBairro","setNomeBairro","numero","setNumero","nomeEmpresa","setNomeEmpresa","experiencia","setExperiencia","cargo","setCargo","faixaSalarial","setFaixaSalarial","nomeMunicipio","setNomeMunicipio","ufSigla","setUfSigla","nomeUfSigla","setNomeUfSigla","dataEncerramento","setDataEncerramento","areaVagaRecomendadas","setAreaVagaRecomendadas","VerMais","Alert","alert","initListar","headers","get","resp","data","tipoExperiencia","municipio","Date","toLocaleDateString","timeZone","catch","error","response","VerConvite","jti","rua","bairro","CancelarInscricao","post","status","window","location","reload","Botoes","styles","botoes","btnAzul","event","preventDefault","textVermais","btnVermelho","card","titulo","sectionVaga","vagaEncerrada","textos","length","substring","StyleSheet","create","display","alignItems","justifyContent","marginHorizontal","marginBottom","backgroundColor","color","borderColor","marginTop","width","minHeight","minWidth","borderRadius","flexDirection","marginRight","fontFamily","fontSize","marginLeft","textAlign"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { View, Text, StyleSheet, Button, TouchableOpacity, Alert } from 'react-native';\r\n\r\nimport AuthContext from '../context/auth';\r\nimport api from '../services/api';\r\n\r\n// TokenDecoder\r\nimport jwt from '../services/tokenDecoder';\r\n\r\n// Interfaces\r\nimport token from '../interfaces/token';\r\ninterface CardProps {\r\n    nomeVaga: string;\r\n    descricao: string;\r\n    recebeuConvite: Boolean;\r\n    vagaAtiva: Boolean;\r\n    vagaId: number;\r\n}\r\n\r\n\r\nconst cardCandidato: React.FC<CardProps> = ({ nomeVaga, descricao, recebeuConvite, vagaId, vagaAtiva }) => {\r\n\r\n    const { GetTokenUser } = useContext(AuthContext)\r\n\r\n    let tokenDecoded: token;\r\n\r\n    GetTokenUser().then(token => {\r\n        tokenDecoded = token !== null ? jwt(token) : null;\r\n    })\r\n\r\n    //dados estáticos VerConvite\r\n    const [dataHoraEntrevista, setDataHoraEntrevista] = useState('');\r\n    const [nomeRua, setNomeRua] = useState('');\r\n    const [infosComplementares, setInfosComplementares] = useState('');\r\n    const [nomeBairro, setNomeBairro] = useState('');\r\n    const [numero, setNumero] = useState('');\r\n\r\n    // Dados estáticos VerMaisVaga\r\n    const [nomeEmpresa, setNomeEmpresa] = useState('');\r\n    const [experiencia, setExperiencia] = useState('');\r\n    const [cargo, setCargo] = useState('');\r\n    const [faixaSalarial, setFaixaSalarial] = useState('');\r\n\r\n    const [nomeMunicipio, setNomeMunicipio] = useState('');\r\n    const [ufSigla, setUfSigla] = useState<any>({});\r\n    const [nomeUfSigla, setNomeUfSigla] = useState('');\r\n\r\n    const [dataEncerramento, setDataEncerramento] = useState('');\r\n    const [areaVagaRecomendadas, setAreaVagaRecomendadas] = useState([]);\r\n\r\n\r\n    const VerMais = async (vagaId: number) => {\r\n        if (tokenDecoded == null) {\r\n            return Alert.alert('Não foi possível carregar as informações do candidato')\r\n        }\r\n\r\n        const initListar = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        }\r\n\r\n        await api\r\n            .get(`Vagas/buscar/vaga/${vagaId}`, initListar)\r\n            .then(resp => {\r\n                setNomeEmpresa(resp.data.nomeEmpresa);\r\n                setExperiencia(resp.data.tipoExperiencia.descricao);\r\n                setCargo(resp.data.cargo);\r\n                setFaixaSalarial(resp.data.faixaSalarial.descricao);\r\n                setNomeMunicipio(resp.data.municipio.descricao);\r\n                setUfSigla(resp.data.municipio.ufSigla);\r\n                setDataEncerramento(new Date(resp.data.dataEncerramento).toLocaleDateString('pt-BR', { timeZone: 'UTC' }));\r\n                setAreaVagaRecomendadas(resp.data.areaVagaRecomendadas);\r\n            })\r\n            .catch(error => {\r\n                if (error.response) {\r\n                    return alert(error.response.data)\r\n                }\r\n            })\r\n    }\r\n\r\n    const VerConvite = async (vagaId: number) => {\r\n        //TODO: Testar se o get está recebendo as informacoes do convite.\r\n\r\n        const initListar = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        }\r\n\r\n        await api\r\n            .get(`ConvitesEntrevistas/convites/vaga/${vagaId}/usuario/${tokenDecoded.jti}`, initListar)\r\n            .then(resp => {\r\n                setNomeEmpresa(resp.data.nomeEmpresa);\r\n                setDataHoraEntrevista(new Date(resp.data.dataHoraEntrevista).toLocaleDateString('pt-BR', { timeZone: 'UTC' }));\r\n                setNomeRua(resp.data.rua);\r\n                setNomeBairro(resp.data.bairro);\r\n                setNumero(resp.data.numero);\r\n                setNomeMunicipio(resp.data.municipio);\r\n                setNomeUfSigla(resp.data.ufSigla);\r\n                setInfosComplementares(resp.data.infosComplementares);\r\n            })\r\n            .catch(error => {\r\n                if (error.response) {\r\n                    return alert(error.response.data)\r\n                }\r\n            })\r\n\r\n    }\r\n\r\n    const CancelarInscricao = async (vagaId: number) => {\r\n        if (tokenDecoded == null) {\r\n            return Alert.alert('Não foi possível carregar as informações do candidato')\r\n        }\r\n\r\n        const initListar = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        }\r\n\r\n        await api\r\n            .post(`Inscricoes/vaga/${vagaId}/usuario/${tokenDecoded.jti}`, initListar)\r\n            .then(resp => {\r\n                if (resp.status === 200) {\r\n                    window.location.reload();\r\n                }\r\n            })\r\n            .catch(error => {\r\n                if (error.response) {\r\n                    return alert(error.response.data);\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    const Botoes = (vagaId: number) => {\r\n        if (recebeuConvite) {\r\n            return (\r\n                <View style={styles.botoes}>\r\n                    <TouchableOpacity style={styles.btnAzul} onPress={event => {\r\n                        event.preventDefault();\r\n                        VerMais(vagaId);\r\n                    }}> <Text style={styles.textVermais}>Ver Mais</Text></TouchableOpacity >\r\n                    <TouchableOpacity style={styles.btnVermelho} onPress={event => {\r\n                        event.preventDefault();\r\n                        VerConvite(vagaId);\r\n                    }}><Text style={styles.textVermais}>Ver Convite</Text></TouchableOpacity>\r\n                </View>\r\n            )\r\n        } else {\r\n            return (\r\n                <View>\r\n                    <View style={styles.botoes}>\r\n                        <TouchableOpacity style={styles.btnAzul} onPress={event => {\r\n                            event.preventDefault();\r\n                            VerMais(vagaId);\r\n                        }}><Text style={styles.textVermais}>Ver Mais</Text></TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <View style={styles.card}>\r\n\r\n            <View style={styles.titulo}>\r\n                    <Text style={styles.nomeVaga}>{nomeVaga}</Text>\r\n\r\n                    <View style={styles.sectionVaga}>\r\n                        {\r\n                            vagaAtiva ? <Text style={styles.vagaAtiva}>Vaga Ativa</Text> : <Text style={styles.vagaEncerrada}>Vaga Encerrada</Text>\r\n                        }\r\n                    </View>\r\n            </View>\r\n\r\n            <View style={styles.textos}>\r\n                <Text style={styles.descricao}>{descricao.length > 300 ? descricao.substring(0, 300) + \" [...]\" : descricao}</Text>\r\n            </View>\r\n\r\n            {\r\n                Botoes(vagaId)\r\n            }\r\n\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    botoes: {\r\n        display: 'flex',\r\n        alignItems: 'flex-end',\r\n        justifyContent: 'space-between',\r\n        marginHorizontal: 3,\r\n        marginBottom: 2,\r\n    },\r\n\r\n    btnAzul: {\r\n        backgroundColor: '#ffffff',\r\n        color: '#016799',\r\n        borderColor: '#016799',\r\n    },\r\n\r\n    btnVermelho: {\r\n\r\n    },\r\n\r\n    textVermais: {\r\n\r\n    },\r\n\r\n    card: {\r\n\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n\r\n        borderColor: 'blue',\r\n        marginTop: 3,\r\n        width: 100,\r\n        minHeight: 100,\r\n        minWidth:50,\r\n        borderRadius: 10,\r\n        marginHorizontal: 5,\r\n    },\r\n\r\n    titulo: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        marginHorizontal: 3,\r\n        marginTop: 10\r\n    },\r\n\r\n    nomeVaga: {\r\n        color: '#303030',\r\n        marginRight:10,\r\n        fontFamily: 'sansation-regular',\r\n        fontSize:25\r\n    },\r\n\r\n    sectionVaga: {\r\n\r\n    },\r\n\r\n    vagaAtiva: {\r\n        color: '#016799',\r\n        marginLeft: 0\r\n    },\r\n\r\n    vagaEncerrada: {\r\n        color: '#df0003',\r\n        marginLeft: 0\r\n    },\r\n\r\n    textos: {\r\n        display: 'flex',\r\n        width: 100, \r\n        textAlign: 'justify',\r\n        marginHorizontal: 3,\r\n        color: '#606060',\r\n    },\r\n\r\n    descricao: {\r\n        fontSize: 12\r\n    }\r\n\r\n\r\n\r\n})\r\n\r\nexport default cardCandidato;"]},"metadata":{},"sourceType":"module"}