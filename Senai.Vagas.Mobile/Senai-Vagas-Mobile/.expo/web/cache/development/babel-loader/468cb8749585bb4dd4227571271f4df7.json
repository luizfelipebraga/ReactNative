{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\DIOGO-PC\\\\Desktop\\\\Senai.Vagas.Mobile\\\\Senai-Vagas-Mobile\\\\src\\\\components\\\\cardCandidato.tsx\";\n\nimport React, { useContext, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AuthContext from \"../context/auth\";\nimport api from \"../services/api\";\nimport jwt from \"../services/tokenDecoder\";\nimport token from \"../interfaces/token\";\n\nvar cardCandidato = function cardCandidato(_ref) {\n  var nomeVaga = _ref.nomeVaga,\n      descricao = _ref.descricao,\n      recebeuConvite = _ref.recebeuConvite,\n      vagaId = _ref.vagaId,\n      vagaAtiva = _ref.vagaAtiva;\n\n  var _useContext = useContext(AuthContext),\n      GetTokenUser = _useContext.GetTokenUser;\n\n  var tokenDecoded;\n  GetTokenUser().then(function (token) {\n    tokenDecoded = token !== null ? jwt(token) : null;\n    console.log('-----------------------------------------------------------------');\n    console.log(tokenDecoded);\n    console.log('-----------------------------------------------------------------');\n  });\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      dataHoraEntrevista = _useState2[0],\n      setDataHoraEntrevista = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      nomeRua = _useState4[0],\n      setNomeRua = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      infosComplementares = _useState6[0],\n      setInfosComplementares = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      nomeBairro = _useState8[0],\n      setNomeBairro = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      numero = _useState10[0],\n      setNumero = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      nomeEmpresa = _useState12[0],\n      setNomeEmpresa = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      experiencia = _useState14[0],\n      setExperiencia = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      cargo = _useState16[0],\n      setCargo = _useState16[1];\n\n  var _useState17 = useState(''),\n      _useState18 = _slicedToArray(_useState17, 2),\n      faixaSalarial = _useState18[0],\n      setFaixaSalarial = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      nomeMunicipio = _useState20[0],\n      setNomeMunicipio = _useState20[1];\n\n  var _useState21 = useState({}),\n      _useState22 = _slicedToArray(_useState21, 2),\n      ufSigla = _useState22[0],\n      setUfSigla = _useState22[1];\n\n  var _useState23 = useState(''),\n      _useState24 = _slicedToArray(_useState23, 2),\n      nomeUfSigla = _useState24[0],\n      setNomeUfSigla = _useState24[1];\n\n  var _useState25 = useState(''),\n      _useState26 = _slicedToArray(_useState25, 2),\n      dataEncerramento = _useState26[0],\n      setDataEncerramento = _useState26[1];\n\n  var _useState27 = useState([]),\n      _useState28 = _slicedToArray(_useState27, 2),\n      areaVagaRecomendadas = _useState28[0],\n      setAreaVagaRecomendadas = _useState28[1];\n\n  var VerMais = function VerMais(vagaId) {\n    var initListar;\n    return _regeneratorRuntime.async(function VerMais$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(token == null)) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", alert('Não foi possível carregar as informações do candidato'));\n\n          case 2:\n            initListar = {\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            };\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(api.get(\"Vagas/buscar/vaga/\" + vagaId, initListar).then(function (resp) {\n              setNomeEmpresa(resp.data.nomeEmpresa);\n              setExperiencia(resp.data.tipoExperiencia.descricao);\n              setCargo(resp.data.cargo);\n              setFaixaSalarial(resp.data.faixaSalarial.descricao);\n              setNomeMunicipio(resp.data.municipio.descricao);\n              setUfSigla(resp.data.municipio.ufSigla);\n              setDataEncerramento(new Date(resp.data.dataEncerramento).toLocaleDateString('pt-BR', {\n                timeZone: 'UTC'\n              }));\n              setAreaVagaRecomendadas(resp.data.areaVagaRecomendadas);\n            }).catch(function (error) {\n              if (error.response) {\n                return alert(error.response.data);\n              }\n            }));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var VerConvite = function VerConvite(vagaId) {\n    var initListar;\n    return _regeneratorRuntime.async(function VerConvite$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            initListar = {\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            };\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(api.get(\"ConvitesEntrevistas/convites/vaga/\" + vagaId + \"/usuario/\" + token.jti, initListar).then(function (resp) {\n              setNomeEmpresa(resp.data.nomeEmpresa);\n              setDataHoraEntrevista(new Date(resp.data.dataHoraEntrevista).toLocaleDateString('pt-BR', {\n                timeZone: 'UTC'\n              }));\n              setNomeRua(resp.data.rua);\n              setNomeBairro(resp.data.bairro);\n              setNumero(resp.data.numero);\n              setNomeMunicipio(resp.data.municipio);\n              setNomeUfSigla(resp.data.ufSigla);\n              setInfosComplementares(resp.data.infosComplementares);\n            }).catch(function (error) {\n              if (error.response) {\n                return alert(error.response.data);\n              }\n            }));\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var CancelarInscricao = function CancelarInscricao(vagaId) {\n    var initListar;\n    return _regeneratorRuntime.async(function CancelarInscricao$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!(token == null)) {\n              _context3.next = 2;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", alert('Não foi possível carregar as informações do candidato'));\n\n          case 2:\n            initListar = {\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            };\n            _context3.next = 5;\n            return _regeneratorRuntime.awrap(api.post(\"Inscricoes/vaga/\" + vagaId + \"/usuario/\" + token.jti, initListar).then(function (resp) {\n              if (resp.status === 200) {\n                window.location.reload();\n              }\n            }).catch(function (error) {\n              if (error.response) {\n                return alert(error.response.data);\n              }\n            }));\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var Botoes = function Botoes(vagaId) {\n    if (recebeuConvite) {\n      return React.createElement(View, {\n        style: styles.botoes,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.btnAzul,\n        onPress: function onPress(event) {\n          event.preventDefault();\n          VerMais(vagaId);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }\n      }, \" \", React.createElement(Text, {\n        style: styles.textVermais,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }\n      }, \"Ver Mais\")), React.createElement(TouchableOpacity, {\n        style: styles.btnVermelho,\n        onPress: function onPress(event) {\n          event.preventDefault();\n          VerConvite(vagaId);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.textVermais,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 24\n        }\n      }, \"Ver Convite\")));\n    } else {\n      return React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.botoes,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.btnAzul,\n        onPress: function onPress(event) {\n          event.preventDefault();\n          VerMais(vagaId);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.textVermais,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 28\n        }\n      }, \"Ver Mais\"))));\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.card,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.titulo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.nomeVaga,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, nomeVaga), React.createElement(View, {\n    style: styles.sectionVaga,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, vagaAtiva ? React.createElement(Text, {\n    style: styles.vagaAtiva,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 33\n    }\n  }, \"Vaga Ativa\") : React.createElement(Text, {\n    style: styles.vagaEncerrada,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 84\n    }\n  }, \"Vaga Encerrada\"))), React.createElement(View, {\n    style: styles.textos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }, descricao.length > 300 ? descricao.substring(0, 300) + \" [...]\" : descricao)), Botoes(vagaId));\n};\n\nvar styles = StyleSheet.create({\n  botoes: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'space-between',\n    marginHorizontal: 3,\n    marginBottom: 2\n  },\n  btnAzul: {\n    backgroundColor: '#ffffff',\n    color: '#016799',\n    borderColor: '#016799'\n  },\n  btnVermelho: {},\n  textVermais: {},\n  card: {\n    marginTop: 3,\n    width: 45,\n    minHeight: 100,\n    borderRadius: 10,\n    marginHorizontal: 5\n  },\n  titulo: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginHorizontal: 3,\n    marginTop: 2\n  },\n  nomeVaga: {\n    color: '#303030'\n  },\n  sectionVaga: {},\n  vagaAtiva: {\n    color: '#016799',\n    marginLeft: 0\n  },\n  vagaEncerrada: {\n    color: '#df0003',\n    marginLeft: 0\n  },\n  textos: {\n    display: 'flex',\n    textAlign: 'justify',\n    marginHorizontal: 3,\n    color: '#606060'\n  }\n});\nexport default cardCandidato;","map":{"version":3,"sources":["C:/Users/DIOGO-PC/Desktop/Senai.Vagas.Mobile/Senai-Vagas-Mobile/src/components/cardCandidato.tsx"],"names":["React","useContext","useState","AuthContext","api","jwt","token","cardCandidato","nomeVaga","descricao","recebeuConvite","vagaId","vagaAtiva","GetTokenUser","tokenDecoded","then","console","log","dataHoraEntrevista","setDataHoraEntrevista","nomeRua","setNomeRua","infosComplementares","setInfosComplementares","nomeBairro","setNomeBairro","numero","setNumero","nomeEmpresa","setNomeEmpresa","experiencia","setExperiencia","cargo","setCargo","faixaSalarial","setFaixaSalarial","nomeMunicipio","setNomeMunicipio","ufSigla","setUfSigla","nomeUfSigla","setNomeUfSigla","dataEncerramento","setDataEncerramento","areaVagaRecomendadas","setAreaVagaRecomendadas","VerMais","alert","initListar","headers","get","resp","data","tipoExperiencia","municipio","Date","toLocaleDateString","timeZone","catch","error","response","VerConvite","jti","rua","bairro","CancelarInscricao","post","status","window","location","reload","Botoes","styles","botoes","btnAzul","event","preventDefault","textVermais","btnVermelho","card","titulo","sectionVaga","vagaEncerrada","textos","length","substring","StyleSheet","create","display","alignItems","justifyContent","marginHorizontal","marginBottom","backgroundColor","color","borderColor","marginTop","width","minHeight","borderRadius","marginLeft","textAlign"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { View, Text, StyleSheet, Button, TouchableOpacity } from 'react-native';\r\n\r\nimport AuthContext from '../context/auth';\r\nimport api from '../services/api';\r\n\r\n// TokenDecoder\r\nimport jwt from '../services/tokenDecoder';\r\n\r\n// Interfaces\r\nimport token from '../interfaces/token';\r\ninterface CardProps {\r\n    nomeVaga: string;\r\n    descricao: string;\r\n    recebeuConvite: Boolean;\r\n    vagaAtiva: Boolean;\r\n    vagaId: number;\r\n}\r\n\r\n\r\nconst cardCandidato: React.FC<CardProps> = ({ nomeVaga, descricao, recebeuConvite, vagaId, vagaAtiva }) => {\r\n\r\n    const { GetTokenUser } = useContext(AuthContext)\r\n\r\n    let tokenDecoded: token;\r\n\r\n    GetTokenUser().then(token => {\r\n        \r\n        tokenDecoded = token !== null ? jwt(token) : null;\r\n        console.log('-----------------------------------------------------------------')\r\n        console.log(tokenDecoded)\r\n        console.log('-----------------------------------------------------------------')\r\n    })\r\n\r\n    //dados estáticos VerConvite\r\n    const [dataHoraEntrevista, setDataHoraEntrevista] = useState('');\r\n    const [nomeRua, setNomeRua] = useState('');\r\n    const [infosComplementares, setInfosComplementares] = useState('');\r\n    const [nomeBairro, setNomeBairro] = useState('');\r\n    const [numero, setNumero] = useState('');\r\n\r\n    // Dados estáticos VerMaisVaga\r\n    const [nomeEmpresa, setNomeEmpresa] = useState('');\r\n    const [experiencia, setExperiencia] = useState('');\r\n    const [cargo, setCargo] = useState('');\r\n    const [faixaSalarial, setFaixaSalarial] = useState('');\r\n\r\n    const [nomeMunicipio, setNomeMunicipio] = useState('');\r\n    const [ufSigla, setUfSigla] = useState<any>({});\r\n    const [nomeUfSigla, setNomeUfSigla] = useState('');\r\n\r\n    const [dataEncerramento, setDataEncerramento] = useState('');\r\n    const [areaVagaRecomendadas, setAreaVagaRecomendadas] = useState([]);\r\n\r\n\r\n    const VerMais = async (vagaId: number) => {\r\n        if (token == null) {\r\n            return alert('Não foi possível carregar as informações do candidato')\r\n        }\r\n\r\n        const initListar = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        }\r\n\r\n        await api\r\n            .get(`Vagas/buscar/vaga/${vagaId}`, initListar)\r\n            .then(resp => {\r\n                setNomeEmpresa(resp.data.nomeEmpresa);\r\n                setExperiencia(resp.data.tipoExperiencia.descricao);\r\n                setCargo(resp.data.cargo);\r\n                setFaixaSalarial(resp.data.faixaSalarial.descricao);\r\n                setNomeMunicipio(resp.data.municipio.descricao);\r\n                setUfSigla(resp.data.municipio.ufSigla);\r\n                setDataEncerramento(new Date(resp.data.dataEncerramento).toLocaleDateString('pt-BR', { timeZone: 'UTC' }));\r\n                setAreaVagaRecomendadas(resp.data.areaVagaRecomendadas);\r\n            })\r\n            .catch(error => {\r\n                if (error.response) {\r\n                    return alert(error.response.data)\r\n                }\r\n            })\r\n    }\r\n\r\n    const VerConvite = async (vagaId: number) => {\r\n        //TODO: Testar se o get está recebendo as informacoes do convite.\r\n\r\n        const initListar = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        }\r\n\r\n        await api\r\n            .get(`ConvitesEntrevistas/convites/vaga/${vagaId}/usuario/${token.jti}`, initListar)\r\n            .then(resp => {\r\n                setNomeEmpresa(resp.data.nomeEmpresa);\r\n                setDataHoraEntrevista(new Date(resp.data.dataHoraEntrevista).toLocaleDateString('pt-BR', { timeZone: 'UTC' }));\r\n                setNomeRua(resp.data.rua);\r\n                setNomeBairro(resp.data.bairro);\r\n                setNumero(resp.data.numero);\r\n                setNomeMunicipio(resp.data.municipio);\r\n                setNomeUfSigla(resp.data.ufSigla);\r\n                setInfosComplementares(resp.data.infosComplementares);\r\n            })\r\n            .catch(error => {\r\n                if (error.response) {\r\n                    return alert(error.response.data)\r\n                }\r\n            })\r\n\r\n    }\r\n\r\n    const CancelarInscricao = async (vagaId: number) => {\r\n        if (token == null) {\r\n            return alert('Não foi possível carregar as informações do candidato')\r\n        }\r\n\r\n        const initListar = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        }\r\n\r\n        await api\r\n            .post(`Inscricoes/vaga/${vagaId}/usuario/${token.jti}`, initListar)\r\n            .then(resp => {\r\n                if (resp.status === 200) {\r\n                    window.location.reload();\r\n                }\r\n            })\r\n            .catch(error => {\r\n                if (error.response) {\r\n                    return alert(error.response.data);\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    const Botoes = (vagaId: number) => {\r\n        if (recebeuConvite) {\r\n            return (\r\n                <View style={styles.botoes}>\r\n                    <TouchableOpacity style={styles.btnAzul} onPress={event => {\r\n                        event.preventDefault();\r\n                        VerMais(vagaId);\r\n                    }}> <Text style={styles.textVermais}>Ver Mais</Text></TouchableOpacity >\r\n                    <TouchableOpacity style={styles.btnVermelho}  onPress={event => {\r\n                        event.preventDefault();\r\n                        VerConvite(vagaId);\r\n                    }}><Text style={styles.textVermais}>Ver Convite</Text></TouchableOpacity>\r\n                </View>\r\n            )\r\n        } else {\r\n            return (\r\n                <View>\r\n                    <View style={styles.botoes}>\r\n                        <TouchableOpacity style={styles.btnAzul} onPress={event => {\r\n                            event.preventDefault();\r\n                            VerMais(vagaId);\r\n                        }}><Text style={styles.textVermais}>Ver Mais</Text></TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    return(\r\n        <View style={styles.card}>\r\n            <View style={styles.titulo}>\r\n                <Text style={styles.nomeVaga}>{nomeVaga}</Text>\r\n\r\n                <View style={styles.sectionVaga}>\r\n                {\r\n                    vagaAtiva ? <Text style={styles.vagaAtiva}>Vaga Ativa</Text> : <Text style={styles.vagaEncerrada}>Vaga Encerrada</Text>\r\n                }\r\n                </View>\r\n\r\n            </View>\r\n\r\n                <View style={styles.textos}>\r\n                    <Text>{descricao.length > 300 ? descricao.substring(0, 300) + \" [...]\" : descricao}</Text>\r\n                </View>\r\n\r\n                {\r\n                    Botoes(vagaId)\r\n                }\r\n\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    botoes : {\r\n        display: 'flex',\r\n        alignItems: 'flex-end',\r\n        justifyContent: 'space-between',\r\n        marginHorizontal : 3,\r\n        marginBottom: 2,\r\n    },\r\n    \r\n    btnAzul : {\r\n        backgroundColor: '#ffffff',\r\n        color: '#016799',\r\n        borderColor: '#016799',\r\n    },\r\n\r\n    btnVermelho : {\r\n\r\n    },\r\n\r\n    textVermais:{\r\n\r\n    },\r\n\r\n    card : {\r\n        marginTop: 3,\r\n        width: 45,\r\n        minHeight: 100,\r\n        borderRadius: 10,\r\n        marginHorizontal: 5\r\n    },\r\n\r\n    titulo : {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        marginHorizontal: 3,\r\n        marginTop: 2\r\n        \r\n    },\r\n\r\n    nomeVaga : {\r\n        color: '#303030',\r\n    },\r\n\r\n    sectionVaga :{\r\n\r\n    },\r\n\r\n    vagaAtiva : {\r\n        color: '#016799',\r\n        marginLeft: 0\r\n    },\r\n\r\n    vagaEncerrada : {\r\n        color: '#df0003',\r\n        marginLeft: 0\r\n    },\r\n\r\n    textos : {\r\n        display: 'flex',\r\n        textAlign: 'justify',\r\n        marginHorizontal: 3,\r\n        color: '#606060',\r\n    },\r\n\r\n\r\n    \r\n})\r\n\r\nexport default cardCandidato;"]},"metadata":{},"sourceType":"module"}